<!DOCTYPE html>
<html>

<head>
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <title>Form | P.A.C.T</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>


<body class="bg-light">
  <div id="loader" class="text-center text-dark position-absolute" style="top: 40%; width: 100%;">
    <div class="spinner-border" role="status" style="width: 8vmax; height: 8vmax;">
      <span class="sr-only">Loading...</span>
    </div>
    <br />
    <br />
    <strong>Loading...</strong>
  </div>

  <div id="content" class="d-none">
    <div class="bg-dark title sticky-top">
      <h1 class="text-light text-center pt-3 pb-3">P.A.C.T. Form</h1>
    </div>

    <div class="text-dark container" style="max-width: 700px;">
      <br />
      <form>
        <div class="form-group">
          <div class="row">
            <!-- Species -->
            <div class="col">
              <label for="species">Pok&eacute;mon Species</label>
              <select class="form-control" id="species">
                <option value=" ">Select one...</option>
              </select>
            </div>
            <!-- Forme -->
            <div id="forme-container" class="col d-none">
              <label for="formes">Pok&eacute;mon Forme</label>
              <select class="form-control" id="formes">
                <option value=" ">Select one...</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Shiny -->
        <div class="form-group">
          <label for="shiny-radio-container">Shiny?</label>
          <div id="shiny-radio-container">
            <div class="custom-control custom-radio custom-control-inline">
              <input type="radio" id="nonShiny" name="shinyRadioButton" class="custom-control-input" checked="true">
              <label class="custom-control-label" for="nonShiny">Not Shiny</label>
            </div>
            <div class="custom-control custom-radio custom-control-inline">
              <input type="radio" id="starShiny" name="shinyRadioButton" class="custom-control-input">
              <label class="custom-control-label" for="starShiny">&#x2605; Star Shiny</label>
            </div>
            <div class="custom-control custom-radio custom-control-inline">
              <input type="radio" id="squareShiny" name="shinyRadioButton" class="custom-control-input">
              <label class="custom-control-label" for="squareShiny">&#x25A0; Square Shiny</label>
            </div>
          </div>
        </div>

        <!-- Ball -->
        <div class="form-group">
          <label for="ball">Pok&eacute;ball</label>
          <select class="form-control" id="ball">
            <option value=" ">Select one...</option>
            <option value="Beast">Beast</option>
            <option value="Cherish">Cherish</option>
            <option value="Dive">Dive</option>
            <option value="Dream">Dream</option>
            <option value="Dusk">Dusk</option>
            <option value="Fast">Fast</option>
            <option value="Friend">Friend</option>
            <option value="Great">Great</option>
            <option value="Heal">Heal</option>
            <option value="Heavy">Heavy</option>
            <option value="Level">Level</option>
            <option value="Love">Love</option>
            <option value="Lure">Lure</option>
            <option value="Luxury">Luxury</option>
            <option value="Master">Master</option>
            <option value="Moon">Moon</option>
            <option value="Nest">Nest</option>
            <option value="Net">Net</option>
            <option value="Pok&eacute;">Pok&eacute;</option>
            <option value="Premier">Premier</option>
            <option value="Quick">Quick</option>
            <option value="Repeat">Repeat</option>
            <option value="Safari">Safari</option>
            <option value="Sport">Sport</option>
            <option value="Timer">Timer</option>
            <option value="Ultra">Ultra</option>
          </select>
        </div>

        <!-- Nature -->
        <div class="form-group">
          <label for="nature">Nature</label>
          <select class="form-control" id="nature">
            <option value=" ">Select one...</option>
            <option value="Hardy">Hardy</option>
            <option value="Lonely">Lonely</option>
            <option value="Brave">Brave</option>
            <option value="Adamant">Adamant</option>
            <option value="Naughty">Naughty</option>
            <option value="Bold">Bold</option>
            <option value="Docile">Docile</option>
            <option value="Relaxed">Relaxed</option>
            <option value="Impish">Impish</option>
            <option value="Lax">Lax</option>
            <option value="Timid">Timid</option>
            <option value="Hasty">Hasty</option>
            <option value="Serious">Serious</option>
            <option value="Jolly">Jolly</option>
            <option value="Naive">Naive</option>
            <option value="Modest">Modest</option>
            <option value="Mild">Mild</option>
            <option value="Quiet">Quiet</option>
            <option value="Bashful">Bashful</option>
            <option value="Rash">Rash</option>
            <option value="Calm">Calm</option>
            <option value="Gentle">Gentle</option>
            <option value="Sassy">Sassy</option>
            <option value="Careful">Careful</option>
            <option value="Quirky">Quirky</option>
          </select>
        </div>

        <!-- Ability -->
        <div class="form-group">
          <label for="ability">Ability</label>
          <select class="form-control" id="ability">
            <option value=" ">Select one...</option>
          </select>
        </div>

        <!-- OT -->
        <div class="form-group">
          <label for="ot">OT Name</label>
          <input class="form-control" type="text" id="ot" placeholder="Ash (Case Sensitive)">
        </div>

        <!-- TID -->
        <div class="form-group">
          <label for="tid">Trainer ID</label>
          <input class="form-control" type="text" id="tid" placeholder="123456">
        </div>

        <!-- IVs -->
        <div class="form-group">
          <div class="form-row">
            <div class="col">
              <label for="hp">HP IV</label>
              <select class="form-control" id="hp">
                <option value=" ">-</option>
                <option value="HT">Hyper Trained</option>
                <option value="B">Best</option>
                <option value="F">Fantastic</option>
                <option value="VG">Very Good</option>
                <option value="PG">Pretty Good</option>
                <option value="D">Decent</option>
                <option value="NG">No Good</option>
              </select>
            </div>
            <div class="col">
              <label for="atk">Atk IV</label>
              <select class="form-control" id="atk">
                <option value=" ">-</option>
                <option value="HT">Hyper Trained</option>
                <option value="B">Best</option>
                <option value="F">Fantastic</option>
                <option value="VG">Very Good</option>
                <option value="PG">Pretty Good</option>
                <option value="D">Decent</option>
                <option value="NG">No Good</option>
              </select>
            </div>
            <div class="col">
              <label for="def">Def IV</label>
              <select class="form-control" id="def">
                <option value=" ">-</option>
                <option value="HT">Hyper Trained</option>
                <option value="B">Best</option>
                <option value="F">Fantastic</option>
                <option value="VG">Very Good</option>
                <option value="PG">Pretty Good</option>
                <option value="D">Decent</option>
                <option value="NG">No Good</option>
              </select>
            </div>
            <div class="col">
              <label for="spa"><span class="d-block d-sm-block d-md-none">Sp Atk</span><span class="d-none d-md-block d-lg-block d-xl-block">Sp. Atk IV</span></label>
              <select class="form-control" id="spa">
                <option value=" ">-</option>
                <option value="HT">Hyper Trained</option>
                <option value="B">Best</option>
                <option value="F">Fantastic</option>
                <option value="VG">Very Good</option>
                <option value="PG">Pretty Good</option>
                <option value="D">Decent</option>
                <option value="NG">No Good</option>
              </select>
            </div>
            <div class="col">
              <label for="spd"><span class="d-block d-sm-block d-md-none">Sp Def</span><span class="d-none d-md-block d-lg-block d-xl-block">Sp. Def IV</span></label>
              <select class="form-control" id="spd">
                <option value=" ">-</option>
                <option value="HT">Hyper Trained</option>
                <option value="B">Best</option>
                <option value="F">Fantastic</option>
                <option value="VG">Very Good</option>
                <option value="PG">Pretty Good</option>
                <option value="D">Decent</option>
                <option value="NG">No Good</option>
              </select>
            </div>
            <div class="col">
              <label for="spe">Spe IV</label>
              <select class="form-control" id="spe">
                <option value=" ">-</option>
                <option value="HT">Hyper Trained</option>
                <option value="B">Best</option>
                <option value="F">Fantastic</option>
                <option value="VG">Very Good</option>
                <option value="PG">Pretty Good</option>
                <option value="D">Decent</option>
                <option value="NG">No Good</option>
              </select>
            </div>
          </div>
          <small id="ivDesc" class="form-text text-muted">
            These descriptions can be found using the Judge feature in your PC.<br />
            31: Best | 30: Fantastic | 26-29: Very Good | 16-25: Pretty Good | 1-15: Decent | 0: No Good
          </small>
        </div>

        <!-- Language -->
        <div class="form-group">
          <label for="language">Language</label>
          <select class="form-control" id="language">
            <option value=" ">Select one...</option>
            <option value="ENG">ENG</option>
            <option value="SPA">SPA</option>
            <option value="JPN">JPN</option>
            <option value="FRE">FRE</option>
            <option value="GER">GER</option>
            <option value="ITA">ITA</option>
            <option value="KOR">KOR</option>
            <option value="CHS">CHS</option>
            <option value="CHT">CHT</option>
          </select>
        </div>

        <!-- Nickname -->
        <div class="form-group">
          <label for="nickname">Nickname</label>
          <input class="form-control" type="text" id="nickname" placeholder="Agumon (Case Sensitive)">
          <small id="nickDesc" class="form-text text-muted">Please leave this blank if it doesn't have one!</small>
        </div>

        <!-- Level -->
        <div class="form-group">
          <label for="level">Level</label>
          <input class="form-control" type="text" id="level" placeholder="Level" value="100">
        </div>

        <!-- Gender -->
        <div class="form-group">
          <label for="gender">Gender</label>
          <select class="form-control" id="gender">
            <option value=" ">Select One...</option>
            <option value="M">Male (&#x2642;)</option>
            <option value="F">Female (&#x2640;)</option>
            <option value="-">Genderless</option>
          </select>
        </div>

        <!-- Origin -->
        <div class="form-group">
          <label for="origin">Origin Stamp</label>
          <select class="form-control" id="origin">
            <option value=" ">Select one...</option>
            <option value="Galar">Galar</option>
            <option value="LGPE">LGPE</option>
            <option value="PoGo">PoGo</option>
            <option value="Alola">Alola</option>
            <option value="Gen 6">Gen 6 Pentagon</option>
            <option value="VC">VC</option>
            <option value="None">None</option>
          </select>
          <small id="origin-stamp-list" class="form-text text-muted">
            Galar: <img alt="Galar" src="//cdn.bulbagarden.net/upload/thumb/3/3e/Galar_symbol.png/16px-Galar_symbol.png" width="16" height="16" srcset="//cdn.bulbagarden.net/upload/thumb/3/3e/Galar_symbol.png/24px-Galar_symbol.png 1.5x, //cdn.bulbagarden.net/upload/thumb/3/3e/Galar_symbol.png/32px-Galar_symbol.png 2x">
            | LGPE: <img alt="Let's Go" src="//cdn.bulbagarden.net/upload/thumb/a/a4/Let%27s_Go_icon.png/16px-Let%27s_Go_icon.png" width="16" height="16" srcset="//cdn.bulbagarden.net/upload/thumb/a/a4/Let%27s_Go_icon.png/24px-Let%27s_Go_icon.png 1.5x, //cdn.bulbagarden.net/upload/thumb/a/a4/Let%27s_Go_icon.png/32px-Let%27s_Go_icon.png 2x">
            | PoGo: <img alt="PoGo" src="//cdn.bulbagarden.net/upload/thumb/2/2e/GO_icon_VIII.png/16px-GO_icon_VIII.png" width="16" height="16" srcset="//cdn.bulbagarden.net/upload/thumb/2/2e/GO_icon_VIII.png/24px-GO_icon_VIII.png 1.5x, //cdn.bulbagarden.net/upload/thumb/2/2e/GO_icon_VIII.png/32px-GO_icon_VIII.png 2x">
            | Alola: <img alt="Alola" src="//cdn.bulbagarden.net/upload/thumb/c/c3/Black_clover_VIII.png/16px-Black_clover_VIII.png" width="16" height="16" srcset="//cdn.bulbagarden.net/upload/thumb/c/c3/Black_clover_VIII.png/24px-Black_clover_VIII.png 1.5x, //cdn.bulbagarden.net/upload/thumb/c/c3/Black_clover_VIII.png/32px-Black_clover_VIII.png 2x">
            | Gen 6: <img alt="Gen 6 Pentagon" src="//cdn.bulbagarden.net/upload/thumb/1/1b/Blue_pentagon_VIII.png/16px-Blue_pentagon_VIII.png" width="16" height="16" srcset="//cdn.bulbagarden.net/upload/thumb/1/1b/Blue_pentagon_VIII.png/24px-Blue_pentagon_VIII.png 1.5x, //cdn.bulbagarden.net/upload/thumb/1/1b/Blue_pentagon_VIII.png/32px-Blue_pentagon_VIII.png 2x">
            | VC: <img alt="VC" src="//cdn.bulbagarden.net/upload/thumb/a/a4/GB_icon_VIII.png/16px-GB_icon_VIII.png" width="16" height="16" srcset="//cdn.bulbagarden.net/upload/thumb/a/a4/GB_icon_VIII.png/24px-GB_icon_VIII.png 1.5x, //cdn.bulbagarden.net/upload/thumb/a/a4/GB_icon_VIII.png/32px-GB_icon_VIII.png 2x">
          </small>
        </div>

        <!-- Moves -->
        <div class="form-group">
          <div class="form-row">
            <div class="col">
              <label for="move1">Move 1</label>
              <select class="form-control" id="move1">
                <option value=" ">(No move)</option>
              </select>
            </div>
            <div class="col">
              <label for="move2">Move 2</label>
              <select class="form-control" id="move2">
                <option value=" ">(No move)</option>
              </select>
            </div>
            <div class="col">
              <label for="move3">Move 3</label>
              <select class="form-control" id="move3">
                <option value=" ">(No move)</option>
              </select>
            </div>
            <div class="col">
              <label for="move4">Move 4</label>
              <select class="form-control" id="move4">
                <option value=" ">(No move)</option>
              </select>
            </div>
          </div>
          <small id="movesDesc" class="form-text text-muted">Please list the moves on your Pok&eacute;mon.</small>
        </div>

        <!-- Ribbons/Marks -->
        <div class="form-group">
          <label for="ribmark">Ribbons &amp; Marks</label>
          <input class="form-control" type="text" id="ribmark" placeholder="Ribbon/Mark Name">
          <small id="ribbonDesc" class="form-text text-muted">Leave this blank if it doesn't have any!</small>
        </div>

        <!-- Encounter Description -->
        <div class="form-group">
          <label for="encounter">Encounter Description</label>
          <textarea class="form-control" id="encounter" rows="4"></textarea>
          <small id="encounterDesc" class="form-text text-muted">Please copy the text from the second-last page of your Pok&eacute;mon's summary in full.</small>
        </div>

        <!-- History -->
        <div class="form-group">
          <label for="previous">History</label>
          <input class="form-control" type="text" id="previous" placeholder="Skadiv#6984 from the &quot;Akala Meadow&quot; Discord server">
          <small id="historyDesc" class="form-text text-muted">What user did you get this Pok&eacute;mon from? State the method if you don't remember.</small>
        </div>
      </form>
      <br />

      <button type="button" class="btn btn-outline-primary btn-block" onclick="submit()">Submit</button>

      <div class="w-100 pt-3 d-none" id="prompt">Please copy ALL of the output below and paste it in #requests.</div>
      <br />
      <textarea class="form-control d-none" id="result" rows="7" cols="60" style="font-family: monospace"></textarea><br />

    </div>
  </div>

  <script>
    function submit() {
      var speciesSelect = document.getElementById("species");
      var species = speciesSelect[speciesSelect.selectedIndex].value;
      var formeSelect = document.getElementById("formes");
      var forme = formeSelect[formeSelect.selectedIndex].value;
      var ballSelect = document.getElementById("ball");
      var ball = ballSelect[ballSelect.selectedIndex].value;
      var natureSelect = document.getElementById("nature");
      var nature = natureSelect[natureSelect.selectedIndex].value;
      var ability = document.getElementById("ability").value;
      var ot = document.getElementById("ot").value;
      var tid = document.getElementById("tid").value;
      var hpSelect = document.getElementById("hp");
      var hp = hpSelect[hpSelect.selectedIndex].value;
      var atkSelect = document.getElementById("atk");
      var atk = atkSelect[atkSelect.selectedIndex].value;
      var defSelect = document.getElementById("def");
      var def = defSelect[defSelect.selectedIndex].value;
      var spaSelect = document.getElementById("spa");
      var spa = spaSelect[spaSelect.selectedIndex].value;
      var spdSelect = document.getElementById("spd");
      var spd = spdSelect[spdSelect.selectedIndex].value;
      var speSelect = document.getElementById("spe");
      var spe = speSelect[speSelect.selectedIndex].value;
      var languageSelect = document.getElementById("language");
      var language = languageSelect[languageSelect.selectedIndex].value;
      var nickname = document.getElementById("nickname").value;
      var level = document.getElementById("level").value;
      var genderSelect = document.getElementById("gender");
      var gender = genderSelect[genderSelect.selectedIndex].value;
      var originSelect = document.getElementById("origin");
      var origin = originSelect[originSelect.selectedIndex].value;
      var move1 = document.getElementById("move1").value;
      var move2 = document.getElementById("move2").value;
      var move3 = document.getElementById("move3").value;
      var move4 = document.getElementById("move4").value;
      var ribmark = document.getElementById("ribmark").value;
      var encounter = document.getElementById("encounter").value;
      var previous = document.getElementById("previous").value;
      var result = document.getElementById("result");

      var problems = [];

      if (formeSelect.options.length >= 3 && forme === " ") {
        problems.push("Forme can't be empty!");
      } else if (species == " ") {
        problems.push("Species can't be empty!");
      }

      if (ball == " ") {
        problems.push("Ball can't be empty!");
      }

      if (nature == " ") {
        problems.push("Nature can't be empty!");
      }

      if (ability == " ") {
        problems.push("Ability can't be empty!");
      }

      if (ot == "") {
        problems.push("OT can't be empty!");
      }

      if (tid == "") {
        problems.push("ID No. can't be empty!");
      }

      if (hp == " " || atk == " " || def == " " || spa == " " || spd == " " || spe == " ") {
        problems.push("IVs can't be empty!");
      }

      if (language == " ") {
        problems.push("Language can't be empty!");
      }

      if (level == "" || parseInt(level) < 0 || parseInt(level) > 100) {
        problems.push("Level can't be empty!");
      }

      if (gender == " ") {
        problems.push("Gender can't be empty!");
      }

      if (origin == " ") {
        problems.push("Origin Stamp can't be empty! Select 'None' if it doesn't have one.");
      }

      if (encounter == "") {
        problems.push("Encounter Description can't be empty!");
      }

      if (move1 == " ") {
        problems.push("Moveset can't be empty!");
      }

      if (previous == "") {
        problems.push("History can't be empty!");
      }

      if (problems.length) {
        $("#prompt").addClass("d-none");
        $("#result").addClass("d-none");
        return alert("There " + (problems.length === 1 ? "was a problem " : "were problems ") + "with the form:\n - " + problems.join("\n - ") + "\n\nPlease fix these issues and try resubmitting.");
      }

      result.value = "";

      if (nickname != "") {
        result.value += nickname + " the ";
      }
      if (document.getElementById("starShiny").checked) {
        result.value += "\u{2605} - ";
      }
      if (document.getElementById("squareShiny").checked) {
        result.value += "\u{25A0} - ";
      }

      result.value += (forme !== " " ? forme : species) + " (" + gender + ")" + "\n";
      result.value += "```\n";
      result.value += "Pok\u{00E9}ball:      " + ball + "\n";
      result.value += "Nature:        " + nature + "\n";
      result.value += "Ability:       " + ability + "\n";
      result.value += "OT:            " + ot + "\n";
      result.value += "ID No.:        " + tid + "\n";
      result.value += "IVs:           " + hp + "/" + atk + "/" + def + "/" + spa + "/" + spd + "/" + spe + "\n";
      result.value += "Language:      " + language + "\n";
      result.value += "Level:         " + level + "\n";
      result.value += "Origin Stamp:  " + origin + "\n";
      result.value += "Moves:         " + move1 + "\n";
      if (move2 != " ") {
        result.value += "               " + move2 + "\n";
      }

      if (move3 != " ") {
        result.value += "               " + move3 + "\n";
      }

      if (move4 != " ") {
        result.value += "               " + move4 + "\n";
      }

      if (ribmark.trim() != "") {
        result.value += "Ribbons/Marks: " + ribmark + "\n";
      }

      result.value += "Obtained From: " + previous + "\n";
      result.value += "Encounter:     " + encounter + "```\n";

      // Unhide results
      $("#prompt").removeClass("d-none");
      $("#result").removeClass("d-none");

      // Copy to clipboard
      $("#result").select();
      document.execCommand("copy");
    }
  </script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/@pkmn/dex@0.2.4/build/learnsets.min.js" integrity="sha384-q9BdP/VfdiJXae4avpGuaPaxZGrkUjK1+q+STuUWjH4r5wjGNXtNkhcQcSifDWPa" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/@pkmn/dex@0.2.4/build/production.min.js" integrity="sha384-EUaQ+PXvUK01GaEr1qkm2O4wNjRMWDLyldIO14kOD6y0BCdyFcDrXgBc9mwTZxRS" crossorigin="anonymous"></script>

  <script>
    var dex = Object.keys(Dex.data.Species).sort();

    $(function() {
      for (var i = 0; i < dex.length; i++) {
        var pokemon = Dex.getSpecies(dex[i]);

        // Filter Pokemon
        //////////////////

        // Alt formes
        if (pokemon.baseSpecies && pokemon.baseSpecies !== pokemon.name) continue;
        // CAP
        if (pokemon.num < 0) continue;

        // Passes filter, add to species select
        $("#species").append("<option value=\"" + pokemon.name + "\">" + pokemon.name + "</option>");
      }
      $("#species").change();

      $("#content").removeClass("d-none");
      $("#footer").removeClass("d-none");
      $("#loader").addClass("d-none");
    });

    $("#species").change(function() {
      var monName = $(this).children("option:selected").val().toLowerCase().replace(/[^a-z0-9]/g, "");
      var pokemon = Dex.getSpecies(monName);
      if (monName && pokemon) {
        // Populate Abilities
        $("#ability").html("<option value=\" \">Select one...</option>");
        var abilities = Object.values(pokemon.abilities);
        for (var i = 0; i < abilities.length; i++) {
          $("#ability").append("<option value=\"" + abilities[i] + "\">" + abilities[i] + "</option>");
        }

        // Populate Moves
        Dex.getLearnset(monName).then(function(learnset) {
          var set = Object.keys(learnset.learnset);
          for (var i = 1; i <= 4; i++) {
            $("#move" + i).html("<option value=\" \">(No Move)</option>");
            for (var j = 0; j < set.length; j++) {
              var move = Dex.getMove(set[j]).name;
              // Filter out CAP moves
              if (move.isNonstandard && move.isNonstandard === "CAP") continue;
              $("#move" + i).append("<option id=\"move" + i + "-" + move.split(" ").join("_") + "\" value=\"" + move + "\">" + move + "</option>");
            }
          }
        });

        // Populate formes
        var altFormes = [];
        var formeBlacklist = ["-Mega", "-Mega-Y", "-Mega-X", "-Blade", "-Neutral", "-Ultra", "-White", "-Black", "-Dawn-Wings", "-Dusk-Mane", "-Pirouette"];
        $("#formes").html("<option value=\" \">Select one...</option>");
        for (var i = 0; i < dex.length; i++) {
          var species = Dex.getSpecies(dex[i]);
          if (species.baseSpecies === pokemon.name) {
            var addForme = true;
            for (var f of formeBlacklist) {
              if (species.name === species.baseSpecies + f) addForme = false;
            }
            if (addForme) altFormes.push(species.name);
          }
        }
        if (altFormes.length >= 2) {
          $("#forme-container").removeClass("d-none");
        } else {
          $("#forme-container").addClass("d-none");
        }
        for (var i = 0; i < altFormes.length; i++) {
          $("#formes").append("<option value=\"" + altFormes[i] + "\">" + altFormes[i] + "</option>");
        }

        // Populate Gender
        if (pokemon.gender) {
          if (pokemon.gender === "F") {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option>");
          } else if (pokemon.gender === "M") {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"M\">Male (&#x2642;)</option>");
          } else if (pokemon.gender === "N") {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"-\">Genderless</option>");
          } else {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option><option value=\"M\">Male (&#x2642;)</option><option value=\"-\">Genderless</option>");
          }
        } else {
          $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option><option value=\"M\">Male (&#x2642;)</option><option value=\"-\">Genderless</option>");
        }
      } else {
        // Reset fields
        $("#formes").html("<option value=\" \">Select one...</option>");
        $("#forme-container").addClass("d-none");
        $("#ability").html("<option value=\" \">Select one...</option>");
        $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option><option value=\"M\">Male (&#x2642;)</option><option value=\"-\">Genderless</option>");
        for (var i = 1; i < 5; i++) {
          $("#move" + i).html("<option value=\" \">(No Move)</option>");
        }
      }
    });

    $("#formes").change(function() {
      var monName = $(this).children("option:selected").val().toLowerCase().replace(/[^a-z0-9]/g, "");
      var pokemon = Dex.getSpecies(monName);
      if (monName && pokemon) {
        // Populate Abilities
        $("#ability").html("<option value=\" \">Select one...</option>");
        var abilities = Object.values(pokemon.abilities);
        for (var i = 0; i < abilities.length; i++) {
          $("#ability").append("<option value=\"" + abilities[i] + "\">" + abilities[i] + "</option>");
        }

        // Populate Moves
        Dex.getLearnset(monName).then(function(learnset) {
          if (learnset.learnset) {
            var set = Object.keys(learnset.learnset);
            for (var i = 1; i <= 4; i++) {
              $("#move" + i).html("<option value=\" \">(No Move)</option>");
              for (var j = 0; j < set.length; j++) {
                var move = Dex.getMove(set[j]).name;
                // Filter out CAP moves
                if (move.isNonstandard && move.isNonstandard === "CAP") continue;
                $("#move" + i).append("<option id=\"move" + i + "-" + move.split(" ").join("_") + "\" value=\"" + move + "\">" + move + "</option>");
              }
            }
          }
        });

        // Populate Gender
        if (pokemon.gender) {
          if (pokemon.gender === "F") {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option>");
          } else if (pokemon.gender === "M") {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"M\">Male (&#x2642;)</option>");
          } else if (pokemon.gender === "N") {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"-\">Genderless</option>");
          } else {
            $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option><option value=\"M\">Male (&#x2642;)</option><option value=\"-\">Genderless</option>");
          }
        } else {
          $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option><option value=\"M\">Male (&#x2642;)</option><option value=\"-\">Genderless</option>");
        }
      } else {
        // Reset fields
        $("#formes").html("<option value=\" \">Select one...</option>");
        $("#forme-container").addClass("d-none");
        $("#ability").html("<option value=\" \">Select one...</option>");
        $("#gender").html("<option value=\" \">Select One...</option><option value=\"F\">Female (&#x2640;)</option><option value=\"M\">Male (&#x2642;)</option><option value=\"-\">Genderless</option>");
        for (var i = 1; i < 5; i++) {
          $("#move" + i).html("<option value=\" \">(No Move)</option>");
        }
      }
    });

    // Validate TID
    $("#tid").on("keyup keydown", function() {
      var testArr = $("#tid").val().split("");
      var resultArr = [];
      var isNum = new RegExp("[0-9]+");
      for (var i in testArr) {
        if (isNum.test(testArr[i]) && i < 6) {
          resultArr.push(testArr[i]);
        }
        $("#tid").val(resultArr.join(""));
      }
    });

    // Validate Level
    $("#level").on("keyup keydown", function() {
      var testArr = $("#level").val().split("");
      var resultArr = [];
      var isNum = new RegExp("[0-9]+");
      for (var i in testArr) {
        if (isNum.test(testArr[i]) && i < 3) {
          resultArr.push(testArr[i]);
        }
      }
      $("#level").val(resultArr.join(""));
      if (resultArr.length !== 0) {
        var newNum = parseInt(resultArr.join(""));
        $("#level").val(Math.min(100, newNum));
      }
    });

    var disabledMoves = {
      m1: "",
      m2: "",
      m3: "",
      m4: "",
    };

    $("#move1").change(function() {
      $("#move2-" + disabledMoves.m1).prop("disabled", false);
      $("#move3-" + disabledMoves.m1).prop("disabled", false);
      $("#move4-" + disabledMoves.m1).prop("disabled", false);
      disabledMoves.m1 = this.value.split(" ").join("_");
      $("#move2-" + disabledMoves.m1).prop("disabled", true);
      $("#move3-" + disabledMoves.m1).prop("disabled", true);
      $("#move4-" + disabledMoves.m1).prop("disabled", true);
    });

    $("#move2").change(function() {
      $("#move1-" + disabledMoves.m2).prop("disabled", false);
      $("#move3-" + disabledMoves.m2).prop("disabled", false);
      $("#move4-" + disabledMoves.m2).prop("disabled", false);
      disabledMoves.m2 = this.value.split(" ").join("_");
      $("#move1-" + disabledMoves.m2).prop("disabled", true);
      $("#move3-" + disabledMoves.m2).prop("disabled", true);
      $("#move4-" + disabledMoves.m2).prop("disabled", true);
    });

    $("#move3").change(function() {
      $("#move1-" + disabledMoves.m3).prop("disabled", false);
      $("#move2-" + disabledMoves.m3).prop("disabled", false);
      $("#move4-" + disabledMoves.m3).prop("disabled", false);
      disabledMoves.m3 = this.value.split(" ").join("_");
      $("#move1-" + disabledMoves.m3).prop("disabled", true);
      $("#move2-" + disabledMoves.m3).prop("disabled", true);
      $("#move4-" + disabledMoves.m3).prop("disabled", true);
    });

    $("#move4").change(function() {
      $("#move1-" + disabledMoves.m4).prop("disabled", false);
      $("#move2-" + disabledMoves.m4).prop("disabled", false);
      $("#move3-" + disabledMoves.m4).prop("disabled", false);
      disabledMoves.m4 = this.value.split(" ").join("_");
      $("#move1-" + disabledMoves.m4).prop("disabled", true);
      $("#move2-" + disabledMoves.m4).prop("disabled", true);
      $("#move3-" + disabledMoves.m4).prop("disabled", true);
    });
  </script>
</body>

<footer id="footer" class="text-dark container text-muted text-center pt-3 pb-3 d-none" style="max-width: 700px;">
  <div><small>Site by <a href="https://github.com/Lusamine/pact/graphs/contributors">P.A.C.T.</a> modified with permission from original by <a href="https://github.com/Scorbunny">neycwang</a></small></div>
</footer>

</html>
