---
layout: loader
permalink: /misc/gallery/oga-archive/
title: OGA Archive
---

<div class="intro">
    This page exists to showcase and preserve the incredible artworks made by our talented team of artists for our <a href="/events/giveaways/">Official Giveaways</a>.
</div>

<hr />

<div id="gallery-container">
    <!-- content auto-generated by script below! -->
</div>

<script src="./imgdata.js"></script>
<script src="./userdata.js"></script>

<script>
    var MONTHS = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var years = [...new Set(...[imgdata.map(e => e.year)])];
    if (!window.events) window.events = {};
    if (!window.maxevents) window.maxevents = [...imgdata].length;

    for (var year of years) {
        var div = document.createElement("div");
        div.id = "year-container-" + year;
        
        var h1 = document.createElement("h1");
        h1.textContent = year;
        div.appendChild(h1);

        images = document.createElement("div");
        images.classList.add("row");
        images.dataset.masonry = '{ "percentPosition": true }';

        div.appendChild(images);

        var thisYear = [...imgdata.filter(e => e.year === year)].sort((a, b) => a.month_numerical - b.month_numerical);
        for (var data of thisYear) {
            var container = document.createElement("div");
            container.classList.add("col", "col-sm-6", "col-lg-4", "mb-4");

            var card = document.createElement("div");
            card.classList.add("card");

            var artists = document.createElement("div");

            var cardtitle = document.createElement("h5");
            cardtitle.classList.add("card-title");

            var cardsubtitle = document.createElement("h6");
            cardsubtitle.classList.add("card-subtitle");
            
            var cardbody = document.createElement("div");
            cardbody.classList.add("card-body");

            var img = document.createElement("img");
            img.classList.add("card-img-top", "clickable-image");
            img.src = "/images/gallery/oga-archive/" + data.filename;
            img.dataset.image = "/images/gallery/oga-archive/" + data.filename;
            img.dataset.fname = data.filename;

            window.events[data.filename] = false;

            img.onload = function() {
                window.events[this.dataset.fname] = true;
                
                var count = Object.values(window.events).filter(bool => bool === true).length;
                console.log(count);
                if (count === window.maxevents) {
                    // Dynamically load masonry after all elements have loaded, should help avoid layout issues
                    var script = document.createElement("script");
                    script.src = "https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js";
                    document.getElementsByClassName("container")[0].appendChild(script);

                    document.getElementById("loader").classList.add("d-none");
                    document.getElementById("content").classList.remove("d-none");
                }
            }
            
            cardtitle.textContent = data.oga_theme;
            cardsubtitle.textContent = MONTHS[data.month_numerical - 1];

            var cardtext = document.createElement("p");
            cardtext.classList.add("card-text");
            cardtext.textContent = "By ";
            for (var i = 0; i < data.authors.length; i++) {
                var artist = data.authors[i];
                var user = userdata[artist];

                var artcontainer = document.createElement("span");
                artcontainer.classList.add(user.class_name, "fw-bold");
                artcontainer.textContent = user.display_name;

                var socialcontainer = document.createElement("span");
                socialcontainer.textContent = " (";

                var socialcontainerend = document.createElement("span");
                socialcontainerend.textContent = ")";
                
                var sociallink = document.createElement("a");
                sociallink.href = user.social_link;
                sociallink.textContent = user.social_name;
                socialcontainer.appendChild(sociallink);

                cardtext.appendChild(artcontainer);
                cardtext.appendChild(socialcontainer);
                cardtext.appendChild(socialcontainerend);

                var diff = data.authors.length - i - 1;
                if (diff !== 0) {
                    var difftext = document.createElement("span");
                    difftext.textContent = diff > 1 ? ", " : " & ";
                    cardtext.appendChild(difftext);
                }
            }

            card.appendChild(img);
            card.appendChild(cardbody);
            cardbody.appendChild(cardtitle);
            cardbody.appendChild(cardsubtitle);
            cardbody.appendChild(cardtext);

            container.appendChild(card);

            images.appendChild(container);
        }

        document.getElementById("gallery-container").appendChild(div);
    }

    $("document").ready(() => {
        document.getElementById("popup-image").classList.add("mt-4");
    });

</script>